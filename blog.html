<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Blog Post - Ayush Patne</title>
    <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
    <link rel="stylesheet" href="style.css">
    <!-- Marked.js for markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Prism.js for syntax highlighting (optional) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
</head>
<body>
    <nav class="wide">
        <div class="nav-content">
            <div class="nav-logo">Ayush Patne</div>
            <div class="nav-links mono">
                <a href="index.html">Home</a>
                <a href="resume.html">Resume</a>
                <a href="archive.html">Archive</a>
            </div>
        </div>
    </nav>

    <div class="blog-container">
        <article class="blog-content">
            <div id="blog-header"></div>
            <div id="blog-content" class="blog-post">
                <!-- <p>Loading...</p> -->
            </div>
        </article>

        <aside class="toc-sidebar">
            <div class="toc-title mono">Contents</div>
            <ul id="toc-list" class="toc-list"></ul>
        </aside>
    </div>

    <footer style="max-width: 1200px; margin: 0 auto;">
        <p class="mono">Built with HTML & CSS · Hosted on GitHub Pages</p>
        <p style="margin-top: 8px;">© 2025 Ayush Patne</p>
    </footer>

    <button class="scroll-top" id="scrollTop" aria-label="Scroll to top">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18 15 12 9 6 15"></polyline>
        </svg>
    </button>

    <script src="js/blog-loader.js"></script>
    <script>
        // Get post slug from URL
        const urlParams = new URLSearchParams(window.location.search);
        const postSlug = urlParams.get('post');

        if (postSlug) {
            // Load the blog post
            blogLoader.init().then(() => {
                const metadata = blogLoader.getPostMetadata(postSlug);
                
                if (metadata) {
                    // Update page title
                    document.getElementById('page-title').textContent = `${metadata.title} - Ayush Patne`;
                    
                    // Add header with metadata
                    document.getElementById('blog-header').innerHTML = `
                        <h1>${metadata.title}</h1>
                        <p class="card-meta mono">${new Date(metadata.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })} · ${metadata.readTime}</p>
                        <div class="post-tags" style="margin-bottom: 40px;">
                            ${metadata.tags.map(tag => `<span class="tag mono">${tag}</span>`).join('')}
                        </div>
                    `;
                }
                
                // Load the markdown content
                blogLoader.loadBlogPost(postSlug);
            });
        } else {
            document.getElementById('blog-content').innerHTML = '<p>No blog post specified.</p>';
        }

        initScrollTop();
    </script>
</body>
</html>